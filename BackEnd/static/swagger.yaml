openapi: 3.0.0
info:
  title: MoveHive - API
  version: 1.0.0
  description: API para gerenciar usuários e esportes na aplicação MoveHive.


tags:
  - name: Usuário
    description: Operações relacionadas a usuários
  - name: UsuárioEmpresa
    description: Operações relacionadas a Empresas
  - name: Esporte
    description: Operações relacionadas a esportes
  - name: Eventos
    description: Operações relacionadas a eventos
  - name: Hive
    description: Operações relacionadas a hive
  - name: Posts
    description: Operações relacionadas a Posts
  - name: Treino
    description: Operações relacionadas a Treino
  - name: Notificao
    description: Operações relacionadas a Notificações


components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT


paths:

# Usuarios
  /usuario/RegistrarUsuario:
    post:
      tags:
        - Usuário
      summary: Registrar novo usuário
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                NomeCompleto:
                  type: string
                  example: "João da Silva"
                username:
                  type: string
                  example: "joaosilva"
                data_nascimento:
                  type: string
                  format: date
                  example: "2000-05-15"
                email:
                  type: string
                  format: email
                  example: "joao@example.com"
                senha:
                  type: string
                  format: password
                  example: "senhaSegura123"
              required:
                - NomeCompleto
                - username
                - data_nascimento
                - email
                - senha
      responses:
        '201':
          description: Usuário registrado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
                    example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        '400':
          description: Erro na requisição (campos inválidos ou obrigatórios não fornecidos)
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Campos obrigatórios ausentes"
 
  /usuario/LoginUsuario:
    post:
      summary: Realiza login de usuário
      description: Autentica o usuário através de email e senha. Retorna um token JWT em caso de sucesso.
      tags:
        - Usuário
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  example: usuario@email.com
                  description: Email do usuário cadastrado
                senha:
                  type: string
                  example: "senha123"
                  description: Senha do usuário
              required:
                - email
                - senha
      responses:
        '200':
          description: Login realizado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
                    example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
                    description: Token JWT para autenticação
        '400':
          description: Erro de validação - campos obrigatórios ausentes
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Campos 'email' e 'senha' são obrigatórios"
        '401':
          description: Credenciais inválidas
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Senha incorreta"
        '404':
          description: E-mail não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "E-mail não encontrado"

  /usuario/DadosModal:
    post:
      tags:
        - Usuário
      summary: Adiciona ou atualiza dados do perfil do usuário
      description: Adiciona ou atualiza informações no perfil do usuário autenticado, como foto, biografia, cidade, estado e esportes praticados. Esta rota espera um multipart/form-data.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                foto:
                  type: string
                  format: binary
                  description: "Arquivo de imagem para a foto de perfil do usuário (opcional)."
                dados:
                  type: string
                  description: "Uma string JSON contendo os dados textuais a serem atualizados."
                  example: '{
                    "biografia": "Amo tecnologia e futebol.",
                    "cidade": "São Paulo",
                    "estado": "SP",
                    "esportes_praticados": {
                      "futebol": "iniciante",
                      "basquete": "amador"
                    }
                  }'
      responses:
        '200':
          description: Informações atualizadas com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: sucesso
                  mensagem:
                    type: string
                    example: Informações atualizadas com sucesso
        '400':
          description: Nenhum dado fornecido
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Nenhum dado fornecido
        '401':
          description: Token JWT ausente ou inválido
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Token inválido ou ausente
        '404':
          description: Usuário não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Usuário não encontrado
        '500':
          description: Erro interno no servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Erro inesperado no servidor

  /usuario/follow:
    post:
      summary: Seguir um usuário
      description: Permite que um usuário autenticado siga outro usuário, adicionando o ID do usuário seguido na lista de "seguindo" e o ID do seguidor na lista de "seguidores".
      tags:
        - Usuário
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                seguido_id:
                  type: string
                  example: "abc123"
                  description: ID do usuário que será seguido.
              required:
                - seguido_id
      responses:
        '200':
          description: Usuário seguido com sucesso.
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: "Usuário seguido com sucesso!"
        '400':
          description: Requisição inválida (ID ausente ou tentativa de seguir a si mesmo).
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Você não pode seguir a si mesmo"
        '404':
          description: Usuário(s) não encontrado(s).
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Usuário(s) não encontrado(s)"
        '500':
          description: Erro interno no servidor.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Descrição do erro interno"

  /usuario/unfollow:
    post:
      summary: Deixar de seguir um usuário
      description: Remove a relação de "seguindo" e "seguidores" entre o usuário autenticado e o usuário informado.
      tags:
        - Usuário
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                seguido_id:
                  type: string
                  example: "abc123"
                  description: ID do usuário que será deixado de seguir.
              required:
                - seguido_id
      responses:
        '200':
          description: Usuário deixado de seguir com sucesso.
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: "Usuário deixado de seguir com sucesso!"
        '400':
          description: Requisição inválida (ID ausente ou tentativa de deixar de seguir a si mesmo).
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Você não pode deixar de seguir a si mesmo"
        '404':
          description: Usuário(s) não encontrado(s).
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Usuário(s) não encontrado(s)"
        '500':
          description: Erro interno no servidor.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Descrição do erro interno"

  /usuario/usuariosSemFiltro:
    get:
      summary: Listar usuários sugeridos (sem filtro)
      description: Retorna todos os usuários que o usuário autenticado ainda não segue.
      tags:
        - Usuário
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista de usuários sugeridos.
          content:
            application/json:
              schema:
                type: object
                properties:
                  usuarios:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: "abc123"
                        username:
                          type: string
                          example: "joao_silva"
                        nome_completo:
                          type: string
                          example: "João da Silva"
                        foto_perfil:
                          type: string
                          example: "https://example.com/foto.jpg"
                        biografia:
                          type: string
                          example: "Apaixonado por futebol e corridas"
                        cidade:
                          type: string
                          example: "São Paulo"
                        estado:
                          type: string
                          example: "SP"
                        esportes_praticados:
                          type: object
                          example:
                            futebol: iniciante
                            corrida: profissional
        '404':
          description: Usuário autenticado não encontrado.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Usuário autenticado não encontrado"
        '500':
          description: Erro interno no servidor.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Descrição do erro interno"

  /usuario/usuariosComFiltro:
    get:
      summary: Listar usuários sugeridos (com filtro)
      description: >
        Retorna usuários sugeridos com base nos critérios: <br>
        - Cidade igual à do usuário autenticado. <br>
        - Estado igual ao do usuário autenticado. <br>
        - Pelo menos um esporte em comum.   <br> <br>

        Caso nenhum usuário seja encontrado: <br>
        1. Relaxa os critérios, permitindo mais resultados.   <br>
        2. Retorna usuários aleatórios como último recurso. <br>
      tags:
        - Usuário
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista de usuários sugeridos.
          content:
            application/json:
              schema:
                type: object
                properties:
                  usuarios:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: "abc123"
                        username:
                          type: string
                          example: "maria_oliveira"
                        nome_completo:
                          type: string
                          example: "Maria Oliveira"
                        foto_perfil:
                          type: string
                          example: "https://example.com/foto.jpg"
                        biografia:
                          type: string
                          example: "Corredora amadora e apaixonada por vôlei"
                        cidade:
                          type: string
                          example: "Rio de Janeiro"
                        estado:
                          type: string
                          example: "RJ"
                        esportes_praticados:
                          type: object
                          example:
                            futebol: iniciante
                            voleibol: amador
                            corrida: profissional
        '404':
          description: Usuário autenticado não encontrado.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Usuário autenticado não encontrado"
        '500':
          description: Erro interno no servidor.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Descrição do erro interno"

  /usuario/usuariosSeguidos:
    get:
      summary: Listar usuários seguidos
      description: Retorna todos os usuários que o usuário autenticado segue atualmente.
      tags:
        - Usuário
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista de usuários seguidos.
          content:
            application/json:
              schema:
                type: object
                properties:
                  usuarios_seguindo:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: "abc123"
                        username:
                          type: string
                          example: "joao_silva"
                        nome_completo:
                          type: string
                          example: "João da Silva"
                        foto_perfil:
                          type: string
                          example: "https://example.com/foto.jpg"
                        biografia:
                          type: string
                          example: "Apaixonado por futebol e corridas"
                        cidade:
                          type: string
                          example: "São Paulo"
                        estado:
                          type: string
                          example: "SP"
                        esportes_praticados:
                          type: object
                          example:
                            futebol: amador
                            corrida: amador
        '404':
          description: Usuário autenticado não encontrado.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Usuário autenticado não encontrado"
        '500':
          description: Erro interno no servidor.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Descrição do erro interno"

  /usuario/usuariosSeguidores:
   get:
      summary: Listar seguidores do usuário autenticado
      description: Retorna todos os usuários que seguem o usuário atualmente autenticado.
      tags:
        - Usuário
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista de seguidores.
          content:
            application/json:
              schema:
                type: object
                properties:
                  seguidores:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          example: "def456"
                        username:
                          type: string
                          example: "maria_souza"
                        nome_completo:
                          type: string
                          example: "Maria Souza"
                        foto_perfil:
                          type: string
                          example: "https://example.com/foto_maria.jpg"
                        biografia:
                          type: string
                          example: "Amante de basquete e natação"
                        cidade:
                          type: string
                          example: "Rio de Janeiro"
                        estado:
                          type: string
                          example: "RJ"
                        esportes_praticados:
                          type: object
                          example:
                            basquete: amador
                            natação: profissional
        '404':
          description: Usuário autenticado não encontrado.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Usuário autenticado não encontrado"
        '500':
          description: Erro interno no servidor.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Descrição do erro interno"

  /usuario/rankingTodos:
    get:
      summary: Lista o ranking de usuários
      description: Retorna a lista de usuários com pontos maiores que zero, ordenados do maior para o menor.
      tags:
        - Usuário
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista de usuários no ranking
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    nome_completo:
                      type: string
                      example: João Silva
                    username:
                      type: string
                      example: joaosilva
                    pontos:
                      type: integer
                      example: 120
                    foto_perfil:
                      type: string
                      format: uri
                      example: https://exemplo.com/imagem.jpg
        '401':
          description: Token de autenticação inválido ou ausente
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Token inválido ou ausente.
        '500':
          description: Erro interno do servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Erro inesperado no servidor.
  
  /usuario/rankingSeguindo:
    get:
      summary: Lista o ranking dos usuários seguidos
      description: >
        Retorna a lista de usuários que o usuário autenticado está seguindo, incluindo ele próprio,
        ordenados do maior para o menor número de pontos.
      tags:
        - Usuário
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista de usuários no ranking dos seguidos
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    nome_completo:
                      type: string
                      example: Maria Oliveira
                    username:
                      type: string
                      example: mariaoliveira
                    pontos:
                      type: integer
                      example: 95
                    foto_perfil:
                      type: string
                      format: uri
                      example: https://exemplo.com/imagem_maria.jpg
        '401':
          description: Token de autenticação inválido ou ausente
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Token inválido ou ausente.
        '404':
          description: Usuário autenticado não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Usuário autenticado não encontrado no banco de dados
        '500':
          description: Erro interno do servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Erro inesperado no servidor.

  /usuario/esqueciSenha:
    post:
      tags:
        - Usuário
      summary: Solicitar reset de senha
      description: Permite que um usuário solicite a redefinição de senha fornecendo seu e-mail.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
              properties:
                email:
                  type: string
                  format: email
                  example: usuario@exemplo.com
            examples:
              emailExample:
                summary: Exemplo de requisição
                value:
                  email: usuario@exemplo.com
      responses:
        '200':
          description: Solicitação de reset de senha realizada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: Um e-mail de redefinição de senha foi enviado.
        '400':
          description: Erro na requisição
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Formato de e-mail inválido ou ausente.

  /usuario/verificarCodigo:
     post:
      tags:
        - Usuário
      summary: Verificar código de reset de senha
      description: Verifica se o código de reset enviado pelo usuário é válido e não expirou.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - codigo
              properties:
                email:
                  type: string
                  format: email
                  example: usuario@exemplo.com
                codigo:
                  type: string
                  example: "123456"
            examples:
              exemploRequisicao:
                summary: Exemplo de requisição
                value:
                  email: usuario@exemplo.com
                  codigo: "123456"
      responses:
        '200':
          description: Código válido
          content:
            application/json:
              schema:
                type: object
                properties:
                  valido:
                    type: boolean
                    example: true
                  msg:
                    type: string
                    example: Código verificado com sucesso.
        '400':
          description: Código inválido ou expirado
          content:
            application/json:
              schema:
                type: object
                properties:
                  valido:
                    type: boolean
                    example: false
                  msg:
                    type: string
                    example: Código inválido ou expirado.

  /usuario/resetarSenha:
    post:
      tags:
        - Usuário
      summary: Redefinir senha
      description: Permite que um usuário redefina sua senha utilizando o e-mail, código de verificação e nova senha.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - email
                - codigo
                - nova_senha
              properties:
                email:
                  type: string
                  format: email
                  example: usuario@exemplo.com
                codigo:
                  type: string
                  example: "123456"
                nova_senha:
                  type: string
                  format: password
                  example: "NovaSenha123!"
            examples:
              exemploRequisicao:
                summary: Exemplo de requisição
                value:
                  email: usuario@exemplo.com
                  codigo: "123456"
                  nova_senha: "NovaSenha123!"
      responses:
        '200':
          description: Senha redefinida com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  sucesso:
                    type: boolean
                    example: true
                  msg:
                    type: string
                    example: Sua senha foi alterada com sucesso!
        '400':
          description: Erro ao redefinir a senha
          content:
            application/json:
              schema:
                type: object
                properties:
                  sucesso:
                    type: boolean
                    example: false
                  msg:
                    type: string
                    example: Todos os campos são obrigatórios.

  /usuario/MeuPerfil:
    get:
      tags:
        - Usuário
      summary: Retorna os dados do perfil do usuário logado
      description: >
        Retorna as informações do usuário autenticado, incluindo biografia, cidade, esportes praticados,
        eventos criados e participando, foto de perfil, pontos, seguidores e seguindo.
        Campos sensíveis como senha não são retornados.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Perfil do usuário retornado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                  nome_completo:
                    type: string
                  username:
                    type: string
                  email:
                    type: string
                  biografia:
                    type: string
                  cidade:
                    type: string
                  estado:
                    type: string
                  data_nascimento:
                    type: string
                    format: date
                  data_criacao:
                    type: string
                    format: date-time
                  esportes_praticados:
                    type: object
                    additionalProperties:
                      type: string
                  eventos_criados:
                    type: array
                    items:
                      type: string
                  eventos_participando:
                    type: array
                    items:
                      type: string
                  post_criados:
                    type: array
                    items:
                      type: string
                  treinos_id:
                    type: array
                    items:
                      type: string
                  seguidores_count:
                    type: integer
                  seguindo_count:
                    type: integer
                  pontos:
                    type: number
                    format: float
                  status_usuario:
                    type: string
                  tipo_usuario:
                    type: string
                  total_posts:
                    type: integer
                  foto_perfil:
                    type: string
                    format: uri
              example:
                id: "6244f084-8cdd-4aa2-9a01-ddba2b898291"
                nome_completo: "Paulo"
                username: "paulopalauro"
                email: "paulopalauro@gmail.com"
                biografia: "Sou Paulo"
                cidade: "São Caetano do Sul"
                estado: "SP"
                data_nascimento: "2004-05-15"
                data_criacao: "2025-07-24T21:20:03.953271+00:00"
                esportes_praticados:
                  futsal: "profissional"
                  tênis: "amador"
                eventos_criados:
                  - "7d39af3e-2e44-4fed-8f37-57abc3f2b5dd"
                  - "f755195a-8cb2-434c-b4d3-c57a37a3470e"
                eventos_participando: []
                post_criados:
                  - "968975a1-1bd3-468b-ad8d-242c51354063"
                treinos_id:
                  - "99b16ceb-9266-4eba-9adb-63911faee01c"
                seguidores_count: 1
                seguindo_count: 1
                pontos: 1833.33
                status_usuario: "ativo"
                tipo_usuario: "comum"
                total_posts: 0
                foto_perfil: "https://storage.googleapis.com/safeviewbd.appspot.com/Usuarios/6244f084-8cdd-4aa2-9a01-ddba2b898291/Fotos/foto_perfil.jpg"
        '404':
          description: Usuário não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Usuário não encontrado!"
        '500':
          description: Erro interno do servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Ocorreu um erro interno ao processar seu perfil."

  /usuario/EditarUsuario:
    put:
      summary: Editar usuário autenticado
      description: |
        Atualiza os dados do usuário autenticado.  
        Campos aceitos:  
        - **username** (único)  
        - **email** (único)  
        - **senha** (armazenada com hash)  
        - **data_nascimento** (formato `YYYY-MM-DD`, mínimo 18 anos, ano ≥ 1900, não pode ser no futuro)  
        - **nome_completo**, **biografia**, **estado**, **cidade**  
        - **foto_perfil** (upload de imagem JPG/PNG, substitui a anterior)  
      tags:
        - Usuário
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                username:
                  type: string
                  example: novo_usuario
                email:
                  type: string
                  format: email
                  example: usuario@email.com
                senha:
                  type: string
                  format: password
                  example: "novaSenha123"
                data_nascimento:
                  type: string
                  format: date
                  example: "2000-05-15"
                esportes_praticados:
                  type: string
                  description: JSON em formato de string representando esportes praticados.
                  example: '{"futebol": "Iniciante", "basquete": "profissional"}'
                nome_completo:
                  type: string
                  example: "João da Silva"
                biografia:
                  type: string
                  example: "Apaixonado por esportes e tecnologia."
                estado:
                  type: string
                  example: "SP"
                cidade:
                  type: string
                  example: "São Paulo"
                foto_perfil:
                  type: string
                  format: binary
                  description: Arquivo de imagem para foto de perfil
      responses:
        '200':
          description: Usuário atualizado com sucesso ou nenhuma alteração realizada
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: "Usuário atualizado com sucesso."
        '400':
          description: Erro de validação nos campos enviados
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "O usuário deve ter pelo menos 18 anos."
        '404':
          description: Usuário não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Usuário não encontrado."
        '409':
          description: Conflito de dados (username ou email já existentes)
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "O username 'novo_usuario' já está em uso."
        '500':
          description: Erro interno no servidor ou ao acessar banco de dados
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Erro ao atualizar o usuário no banco de dados."

  /usuario/ExcluirUsuario:
    delete:
      summary: Excluir usuário autenticado
      description: |
        Remove permanentemente o perfil do usuário autenticado e todos os seus dados associados:  
        - Posts criados  
        - Eventos criados ou participados  
        - Treinos criados  
        - Relacionamentos (seguindo/seguidores)  
        - Arquivos armazenados no bucket  
      tags:
        - Usuário
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Usuário e dados excluídos com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: "Usuário e todos os dados associados foram excluídos com sucesso."
        '404':
          description: Usuário não encontrado para exclusão
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Usuário não encontrado para exclusão."
        '500':
          description: Erro interno ao excluir usuário
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Ocorreu um erro interno ao tentar excluir o usuário: erro_desconhecido"

  /usuario/{usuario_id}:
    get:
      summary: Visualizar perfil do usuário
      description: >
        Retorna os dados do perfil de um usuário específico.  
        Inclui informações básicas do usuário, total de posts, número de seguidores e número de pessoas que o usuário está seguindo.  
        Campos sensíveis como senha, lista completa de seguidores e seguindo não são retornados.
      tags:
        - Usuário
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: usuario_id
          required: true
          schema:
            type: string
          description: ID único do usuário no banco de dados.
      responses:
        '200':
          description: Perfil retornado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  nome:
                    type: string
                    example: "João Silva"
                  email:
                    type: string
                    example: "joao@email.com"
                  bio:
                    type: string
                    example: "Apaixonado por esportes e tecnologia."
                  total_posts:
                    type: integer
                    example: 12
                  seguidores_count:
                    type: integer
                    example: 150
                  seguindo_count:
                    type: integer
                    example: 80
        '404':
          description: Usuário não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Usuário não encontrado!"
        '500':
          description: Erro interno no servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Ocorreu um erro interno ao processar o perfil."

# UsuarioEmpresa
  /usuarioEmpresa/RegistrarUsuarioEmpresa:
    post:
      summary: Registrar usuário empresa
      description: Endpoint para registrar um usuário do tipo empresa no sistema.
      tags:
        - UsuárioEmpresa
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - nome
                - username
                - email
                - senha
                - cnpj
              properties:
                nome:
                  type: string
                  example: "Empresa X"
                username:
                  type: string
                  example: "empresa_x"
                email:
                  type: string
                  format: email
                  example: "contato@empresax.com"
                senha:
                  type: string
                  format: password
                  example: "SenhaSegura123"
                cnpj:
                  type: string
                  example: "33.096.646/0001-73"
      responses:
        "201":
          description: Usuário empresa registrado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  token:
                    type: string
                    description: Token de autenticação do usuário
                    example: "eyJhbGciOiJIUzI1NiIsInR..."
        "400":
          description: Erro de validação ou dados ausentes/duplicados
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "E-mail já cadastrado"
        "500":
          description: Erro interno do servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Erro ao registrar usuário empresa"

  /usuarioEmpresa/DadosModalEmpresa:
    post:
      summary: Adiciona ou atualiza informações da empresa
      description: Endpoint que permite enviar dados do modal da empresa e uma foto de perfil. Requer autenticação.
      tags:
        - UsuárioEmpresa
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                dados:
                  type: string
                  format: json
                  description: JSON contendo os campos "biografia" e "setor" da empresa
                  example: '{"biografia": "Empresa de tecnologia focada em inovação", "setor": "TI"}'
                foto:
                  type: string
                  format: binary
                  description: Arquivo de foto de perfil da empresa
      responses:
        '200':
          description: Informações da empresa atualizadas com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: sucesso
                  mensagem:
                    type: string
                    example: Informações da empresa atualizadas com sucesso
        '404':
          description: Empresa não encontrada
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Empresa não encontrada
        '500':
          description: Erro interno do servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Mensagem de erro 

  /usuarioEmpresa/ListarEmpresas:
    get:
      summary: Lista empresas sugeridas
      description: >
        Retorna uma lista de empresas disponíveis na plataforma, excluindo o próprio usuário autenticado
        e empresas que ele já segue.  
        É necessário estar autenticado com um token válido.
      tags:
        - UsuárioEmpresa
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista de empresas sugeridas retornada com sucesso.
          content:
            application/json:
              schema:
                type: object
                properties:
                  empresas:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: ID da empresa.
                          example: "a1b2c3d4e5"
                        nome:
                          type: string
                          description: Nome da empresa.
                          example: "Tech Solutions Ltda"
                        username:
                          type: string
                          description: Nome de usuário da empresa.
                          example: "techsolutions"
                        foto_perfil:
                          type: string
                          description: URL da foto de perfil.
                          example: "https://storage.googleapis.com/app/fotos/empresa1.jpg"
                        biografia:
                          type: string
                          description: Biografia da empresa.
                          example: "Soluções inovadoras em tecnologia."
                        setor:
                          type: string
                          description: Setor de atuação.
                          example: "Tecnologia da Informação"
                        seguidores:
                          type: integer
                          description: Número de seguidores da empresa.
                          example: 1523
        '401':
          description: Token ausente ou inválido.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Token inválido ou não fornecido."
        '404':
          description: Usuário autenticado não encontrado.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Usuário autenticado não encontrado."
        '500':
          description: Erro interno ao listar empresas.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Erro inesperado ao listar empresas." 
  
# Esporte
 
  /esportes/ListarEsportes:
    get:
      tags:
        - Esporte
      summary: Listar todos os esportes
      responses:
        '200':
          description: Lista de esportes retornada com sucesso
        '500':
          description: Erro interno ao listar esportes

# Eventos
  /evento/AdicionarEvento:
   post:
      tags:
        - Eventos
      summary: Adiciona um novo evento esportivo
      description: Cria um novo evento esportivo. Requer autenticação de empresa.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - titulo
                - descricao
                - esporte_nome
                - data_hora_str
                - localizacao
                - endereco
              properties:
                titulo:
                  type: string
                  example: Campeonato de Vôlei
                descricao:
                  type: string
                  example: Campeonato aberto para todas as idades.
                esporte_nome:
                  type: string
                  example: Vôlei
                data_hora_str:
                  type: string
                  format: date-time
                  description: Data e hora do evento (formato YYYY-MM-DDTHH:MM:SS)
                  example: '2025-10-23T20:00:00'
                localizacao:
                  type: string
                  example: Ginásio Municipal
                endereco:
                  type: string
                  example: Rua Principal, 123, Centro
                torneio:
                  type: boolean
                  default: false
                  example: true
                premiacao:
                  type: number
                  default: 0
                  example: 500
                link_oficial:
                  type: string
                  nullable: true
                  example: 'https://evento.oficial.com'
                arquivo_foto:
                  type: string
                  format: binary
                  description: Imagem (opcional)
      responses:
        '201':
          description: Evento criado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    example: 1234556
                  usuario_id:
                    type: string
                    example: empresa_999
                  titulo:
                    type: string
                    example: Campeonato de Vôlei
                  descricao:
                    type: string
                    example: Campeonato aberto para todas as idades.
                  esporte_nome:
                    type: string
                    example: Vôlei
                  data_hora:
                    type: string
                    format: date-time
                    example: '2025-10-23T20:00:00+00:00'
                  localizacao:
                    type: string
                    example: Ginásio Municipal
                  endereco:
                    type: string
                    example: Rua Principal, 123, Centro
                  torneio:
                    type: boolean
                    example: true
                  premiacao:
                    type: number
                    example: 500
                  foto:
                    type: string
                    nullable: true
                    example: https://storage.googleapis.com/.../evento_123.jpg
                  link_oficial:
                    type: string
                    nullable: true
                    example: https://evento.oficial.com
                  interesse:
                    type: array
                    items:
                      type: string
                  status:
                    type: string
                    example: Inscricoes_abertas
        '400':
          description: Dados obrigatórios ausentes ou erros de validação
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Todos os campos obrigatórios devem ser preenchidos.
        '404':
          description: Esporte não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Esporte 'Vôlei' não encontrado.
        '403':
          description: Permissão negada para o usuário autenticado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Permissão negada. Somente empresas podem criar eventos.

  /evento/meusEventos:
    get:
      tags:
        - Eventos
      summary: Lista eventos criados pelo usuário
      description: Retorna uma lista dos eventos esportivos criados pelo usuário autenticado. Requer autenticação.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista de eventos do usuário autenticado
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: evento_123
                    usuario_id:
                      type: string
                      example: empresa_999
                    titulo:
                      type: string
                      example: Campeonato de Vôlei
                    descricao:
                      type: string
                      example: Campeonato aberto para todas as idades.
                    esporte_nome:
                      type: string
                      example: Vôlei
                    data_hora:
                      type: string
                      format: date-time
                      example: '2025-10-23T20:00:00+00:00'
                    localizacao:
                      type: string
                      example: Ginásio Municipal
                    endereco:
                      type: string
                      example: Rua Principal, 123, Centro
                    torneio:
                      type: boolean
                      example: true
                    premiacao:
                      type: number
                      example: 500
                    foto:
                      type: string
                      nullable: true
                      example: https://storage.googleapis.com/.../evento_123.jpg
                    link_oficial:
                      type: string
                      nullable: true
                      example: https://evento.oficial.com
                    interesse:
                      type: array
                      items:
                        type: string
                    status:
                      type: string
                      example: Inscricoes_abertas
        '401':
          description: Usuário não autenticado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Token inválido ou ausente.

  /evento/editarEvento:
    put:
      tags:
        - Eventos
      summary: Edita um evento existente
      description: Permite que o usuário autenticado edite os eventos que criou.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - id
              properties:
                id:
                  type: string
                  example: evento_123
                titulo:
                  type: string
                  example: Novo título do evento
                descricao:
                  type: string
                  example: Nova descrição
                esporte_nome:
                  type: string
                  example: Futebol
                data_hora:
                  type: string
                  format: date-time
                  description: Data e hora do evento (formato YYYY-MM-DDTHH:MM:SS)
                  example: '2025-11-10T20:00:00'
                localizacao:
                  type: string
                  example: Estádio Municipal
                endereco:
                  type: string
                  example: Av. Brasil, 456, Centro
                torneio:
                  type: boolean
                  example: false
                premiacao:
                  type: number
                  example: 1000
                arquivo_foto:
                  type: string
                  format: binary
                  description: Imagem do evento atualizada (opcional)
      responses:
        '200':
          description: Evento editado com sucesso ou nenhuma alteração feita
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: Evento atualizado com sucesso.
        '400':
          description: Erros de validação ou campos obrigatórios ausentes
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: O campo 'id' é obrigatório.
        '403':
          description: Permissão negada para editar o evento
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Permissão negada para editar este evento.
        '404':
          description: Evento não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Evento não encontrado.
        '500':
          description: Erro no upload da imagem
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Erro ao fazer upload da imagem motivo do erro

  /evento/deletarEvento:
    delete:
      tags:
        - Eventos
      summary: Deleta um evento existente
      description: Remove um evento criado pelo usuário autenticado.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - evento_id
              properties:
                evento_id:
                  type: string
                  example: evento_123
      responses:
        '200':
          description: Evento excluído com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: Evento excluído com sucesso.
        '400':
          description: Falta de parâmetro obrigatório
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: O campo 'evento_id' é obrigatório.
        '403':
          description: Permissão negada para excluir o evento
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Você não tem permissão para excluir este evento.
        '404':
          description: Evento não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Evento não encontrado.

  /evento/listarEventos:
    get:
      tags:
        - Eventos
      summary: Lista eventos públicos (não torneios)
      description: Retorna a lista dos eventos que não são torneios cadastrados no sistema.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista dos eventos disponíveis
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: evento_123
                    usuario_id:
                      type: string
                      example: empresa_999
                    titulo:
                      type: string
                      example: Campeonato de Vôlei
                    descricao:
                      type: string
                      example: Campeonato aberto para todas as idades.
                    esporte_nome:
                      type: string
                      example: Vôlei
                    data_hora:
                      type: string
                      format: date-time
                      example: '2025-10-23T20:00:00+00:00'
                    localizacao:
                      type: string
                      example: Ginásio Municipal
                    endereco:
                      type: string
                      example: Rua Principal, 123, Centro
                    torneio:
                      type: boolean
                      example: false
                    premiacao:
                      type: number
                      example: 300
                    foto:
                      type: string
                      nullable: true
                      example: https://storage.googleapis.com/.../evento_123.jpg
                    link_oficial:
                      type: string
                      nullable: true
                      example: https://evento.oficial.com
                    interesse:
                      type: array
                      items:
                        type: string
                    status:
                      type: string
                      example: Inscricoes_abertas
        '401':
          description: Usuário não autenticado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Token inválido ou ausente.

  /evento/listarTorneios:
     get:
      tags:
        - Eventos
      summary: Lista torneios disponíveis
      description: Retorna a lista dos eventos que são torneios cadastrados no sistema.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista dos torneios disponíveis
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: torneio_123
                    usuario_id:
                      type: string
                      example: empresa_999
                    titulo:
                      type: string
                      example: Torneio de Futebol Amador
                    descricao:
                      type: string
                      example: Torneio regional de futebol.
                    esporte_nome:
                      type: string
                      example: Futebol
                    data_hora:
                      type: string
                      format: date-time
                      example: '2025-11-05T15:00:00+00:00'
                    localizacao:
                      type: string
                      example: Estádio Central
                    endereco:
                      type: string
                      example: Av. Principal, 456, Centro
                    torneio:
                      type: boolean
                      example: true
                    premiacao:
                      type: number
                      example: 1000
                    foto:
                      type: string
                      nullable: true
                      example: https://storage.googleapis.com/.../torneio_123.jpg
                    link_oficial:
                      type: string
                      nullable: true
                      example: https://torneio.oficial.com
                    interesse:
                      type: array
                      items:
                        type: string
                    status:
                      type: string
                      example: Inscricoes_abertas
        '401':
          description: Usuário não autenticado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Token inválido ou ausente.
    
  /evento/usuario/{usuario_id}:
     get:
      summary: Listar eventos de um usuárioEmpresa
      description: >
        Retorna todos os eventos cadastrados por um usuário específico, com base no seu **usuario_id**.  
        Caso o usuário não tenha eventos, retorna uma mensagem informando.
      tags:
        - Eventos
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: usuario_id
          required: true
          schema:
            type: string
          description: ID único do usuário no banco de dados.
      responses:
        '200':
          description: Lista de eventos retornada com sucesso
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: "abc123xyz"
                    titulo:
                      type: string
                      example: "Campeonato de Futebol"
                    descricao:
                      type: string
                      example: "Evento esportivo para amantes de futebol."
                    data:
                      type: string
                      format: date
                      example: "2025-09-15"
                    local:
                      type: string
                      example: "São Paulo - SP"
                    usuario_id:
                      type: string
                      example: "user_123"
        '404':
          description: Nenhum evento encontrado para este usuário
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: "Nenhum evento encontrado para este usuário."
        '500':
          description: Erro interno no servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Erro inesperado ao buscar eventos."

  /evento/tenhoInteresse:
    post:
      tags:
        - Eventos
      summary: Demonstrar interesse em um evento
      description: Registra que o usuário autenticado tem interesse em um evento específico.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - evento_id
              properties:
                evento_id:
                  type: string
                  example: evento_123
      responses:
        '200':
          description: Interesse registrado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: Interesse mostrado para o evento.
        '400':
          description: Erro de validação
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Você já demonstrou interesse a esse Evento.
        '404':
          description: Evento não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Evento não encontrado.
        '401':
          description: Usuário não autenticado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Token inválido ou ausente.

  /evento/cancelarInteresse:
    post:
      tags:
        - Eventos
      summary: Cancelar interesse em um evento
      description: Remove o interesse do usuário autenticado em um evento específico.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - evento_id
              properties:
                evento_id:
                  type: string
                  example: evento_123
      responses:
        '200':
          description: Interesse cancelado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: Interesse cancelada com sucesso.
        '400':
          description: Erros de validação
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Você não demonstrou interesse nesse evento.
        '404':
          description: Evento não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Evento não encontrado.
        '500':
          description: Erro interno ao cancelar interesse
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Erro ao cancelar interesse motivo do erro
        '401':
          description: Usuário não autenticado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Token inválido ou ausente.

  /evento/listarInteressados:
    get:
      tags:
        - Eventos
      summary: Lista eventos com interesse do usuário
      description: Retorna a lista dos eventos e torneios nos quais o usuário autenticado demonstrou interesse.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista dos eventos com interesse do usuário ou mensagem caso não haja interesses
          content:
            application/json:
              oneOf:
                - type: array
                  items:
                    type: object
                    properties:
                      id:
                        type: string
                        example: evento_123
                      usuario_id:
                        type: string
                        example: empresa_999
                      titulo:
                        type: string
                        example: Campeonato de Vôlei
                      descricao:
                        type: string
                        example: Campeonato aberto para todas as idades.
                      esporte_nome:
                        type: string
                        example: Vôlei
                      data_hora:
                        type: string
                        format: date-time
                        example: '2025-10-23T20:00:00+00:00'
                      localizacao:
                        type: string
                        example: Ginásio Municipal
                      endereco:
                        type: string
                        example: Rua Principal, 123, Centro
                      torneio:
                        type: boolean
                        example: true
                      premiacao:
                        type: number
                        example: 300
                      foto:
                        type: string
                        nullable: true
                        example: https://storage.googleapis.com/.../evento_123.jpg
                      link_oficial:
                        type: string
                        nullable: true
                        example: https://evento.oficial.com
                      interesse:
                        type: array
                        items:
                          type: string
                      status:
                        type: string
                        example: Inscricoes_abertas
                - type: object
                  properties:
                    mensagem:
                      type: string
                      example: Você não está interessado em nenhum evento ou torneio.
        '404':
          description: Usuário não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Usuário não encontrado.
        '500':
          description: Erro interno ao buscar interesses
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Erro ao listar eventos interessados motivo do erro
        '401':
          description: Usuário não autenticado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Token inválido ou ausente.



# Hive
  /hive/AdicionarHive:
    post:
      tags:
        - Hive
      summary: Cria um novo Hive (evento esportivo)
      description: Endpoint para criar um Hive com dados do evento, incluindo título, descrição, esporte, data, local, endereco e foto opcional.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                titulo:
                  type: string
                  description: Título do Hive (evento)
                  example: Futebol Amistoso
                descricao:
                  type: string
                  description: Descrição do evento
                  example: Jogo amistoso de futebol no parque.
                esporte_nome:
                  type: string
                  description: Nome do esporte
                  example: Futebol
                data_hora_str:
                  type: string
                  format: date-time
                  description: Data e hora do evento no formato ISO 8601 (YYYY-MM-DDTHH:MM:SS)
                  example: "2025-10-15T18:00:00"
                localizacao:
                  type: string
                  description: Coordenadas ou descrição da localização
                  example: "-23.550520,-46.633308"
                endereco:
                  type: string
                  description: Endereço do evento
                  example: Avenida Paulista, 1000, São Paulo
                max_participantes:
                  type: integer
                  description: Número máximo de participantes
                  example: 20
                privado:
                  type: boolean
                  description: Indica se o evento é privado (opcional, padrão false)
                  example: false
                observacoes:
                  type: string
                  description: Observações adicionais (opcional)
                  example: Trazer chuteiras e água
                arquivo_foto:
                  type: string
                  format: binary
                  description: Arquivo de foto para o Hive (opcional)
      responses:
        '201':
          description: Hive criado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: Identificador único do Hive
                  usuario_id:
                    type: string
                    description: ID do usuário criador
                  titulo:
                    type: string
                  descricao:
                    type: string
                  esporte_nome:
                    type: string
                  localizacao:
                    type: string
                  endereco:
                    type: string
                  data_hora:
                    type: string
                    format: date-time
                  max_participantes:
                    type: integer
                  foto:
                    type: string
                    format: uri
                    description: URL pública da foto do Hive (se fornecida)
                  participantes:
                    type: array
                    items:
                      type: string
                    description: Lista de IDs dos participantes
                  privado:
                    type: boolean
                  observacoes:
                    type: string
                  status:
                    type: string
                    description: Status do Hive (ex. Aberto)
        '400':
          description: Erro na requisição (dados inválidos ou ausentes)
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Todos os campos obrigatórios devem ser preenchidos."
        '403':
          description: Usuário empresa não tem permissão para criar Hives
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Usuários empresa não têm permissão para criar Hives."
        '404':
          description: Usuário ou esporte não encontrados
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Esporte 'Futebol' não encontrado."

  /hive/meusHive:
    get:
      tags:
        - Hive
      summary: Lista os Hives criados pelo usuário autenticado
      description: Retorna a lista de Hives cujo 'usuario_id' corresponde ao usuário autenticado pelo token.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista de Hives encontrada
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: Identificador único do Hive
                    usuario_id:
                      type: string
                    titulo:
                      type: string
                    descricao:
                      type: string
                    esporte_nome:
                      type: string
                    localizacao:
                      type: string
                    endereco:
                      type: string
                    data_hora:
                      type: string
                      format: date-time
                    max_participantes:
                      type: integer
                    foto:
                      type: string
                      format: uri
                      description: URL pública da foto do Hive (se houver)
                    participantes:
                      type: array
                      items:
                        type: string
                    privado:
                      type: boolean
                    observacoes:
                      type: string
                    status:
                      type: string
        '404':
          description: Nenhum Hive encontrado para o usuário autenticado
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: Nenhum hive encontrado para este usuário.
        '500':
          description: Erro interno no servidor ao tentar listar Hives
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string

  /hive/editarHive:
    put:
      tags:
        - Hive
      summary: Edita um Hive existente pelo ID
      security:
        - bearerAuth: []
      description: Atualiza os dados de um Hive especificado pelo id, somente se o usuário autenticado for o criador. Permite atualizar campos variados do evento e enviar uma nova foto.
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - id
              properties:
                id:
                  type: string
                  description: Identificador do Hive a ser editado
                  example: "abc123xyz"
                titulo:
                  type: string
                  description: Título do Hive (opcional)
                  example: Futebol Amistoso Atualizado
                descricao:
                  type: string
                  description: Descrição do evento (opcional)
                esporte_nome:
                  type: string
                  description: Nome do esporte (opcional)
                data_hora:
                  type: string
                  format: date-time
                  description: Data e hora do evento (opcional, ISO 8601)
                  example: "2025-10-20T19:00:00"
                localizacao:
                  type: string
                  description: Localização do evento (opcional)
                endereco:
                  type: string
                  description: Endereço do evento (opcional)
                max_participantes:
                  type: integer
                  description: Número máximo de participantes (opcional, deve ser > 0)
                privado:
                  type: boolean
                  description: Se o evento é privado (opcional)
                observacoes:
                  type: string
                  description: Observações adicionais (opcional)
                arquivo_foto:
                  type: string
                  format: binary
                  description: Nova foto do Hive (opcional)
      responses:
        '200':
          description: Hive atualizado com sucesso ou nenhuma alteração feita
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: hive atualizado com sucesso.
        '400':
          description: Dados inválidos ou campo obrigatório ausente
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: max_participantes deve ser maior que zero.
        '403':
          description: Usuário sem permissão para editar este Hive
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Permissão negada para editar este hive.
        '404':
          description: Hive não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: hive não encontrado.
        '500':
          description: Erro interno ao processar a imagem ou outro erro do servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Erro ao fazer upload da imagem mensagem do erro.
      
  /hive/deletarHive:
    delete:
      tags:
        - Hive
      summary: Deletar um hive
      description: 
        Remove um hive do banco de dados, exclui a imagem associada no bucket e atualiza as referências dos participantes. Apenas o criador do hive pode realizar esta operação.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                hive_id:
                  type: string
                  description: ID do hive a ser excluído.
                  example: 22ae4ed3-14e4-42a....
              required:
                - hive_id
      responses:
        '200':
          description: Hive excluído com sucesso.
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: hive excluído com sucesso.
        '400':
          description: Campo obrigatório não informado.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: O campo 'hive_id' é obrigatório.
        '403':
          description: Permissão negada. Usuário não é criador do hive.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Você não tem permissão para excluir este hive.
        '404':
          description: Hive não encontrado.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: hive não encontrado.
        '500':
          description: Erro interno ao excluir o hive.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Erro ao excluir o hive descrição do erro.
        
  /hive/listarTodosHive:
    get:
      tags:
        - Hive
      summary: Listar todos os hives
      description: Retorna todos os hives cadastrados com seus respectivos campos.
      responses:
        '200':
          description: Lista de hives retornada com sucesso.
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: ID único do hive.
                    titulo:
                      type: string
                      description: Título do hive.
                    descricao:
                      type: string
                      description: Descrição do hive.
                    endereco:
                      type: string
                      description: Endereço do evento.
                    localizacao:
                      type: string
                      description: Cidade/UF do evento.
                    data_criacao:
                      type: string
                      format: date-time
                      description: Data e hora de criação do hive.
                    data_hora:
                      type: string
                      format: date-time
                      description: Data e hora do evento.
                    esporte_nome:
                      type: string
                      description: Nome do esporte.
                    foto:
                      type: string
                      description: URL da foto do hive.
                    max_participantes:
                      type: number
                      description: Número máximo de participantes.
                    participantes:
                      type: array
                      items:
                        type: string
                      description: IDs dos participantes confirmados.
                    pendentes:
                      type: array
                      items:
                        type: string
                      description: IDs dos usuários pendentes de confirmação.
                    observacoes:
                      type: string
                      description: Observações gerais do evento.
                    privado:
                      type: boolean
                      description: Indica se o hive é privado.
                    status:
                      type: string
                      description: Status do evento (ex Aberto, Fechado).
                    usuario_id:
                      type: string
                      description: ID do usuário criador do hive.
                  required:
                    - id
                    - titulo
                    - descricao
                    - endereco
                    - localizacao
                    - data_criacao
                    - data_hora
                    - esporte_nome
                    - foto
                    - max_participantes
                    - participantes
                    - pendentes
                    - observacoes
                    - privado
                    - status
                    - usuario_id
        '401':
          description: Não autorizado. Token JWT ausente ou inválido.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Token de autenticação inválido.

  /hive/participarHive:
    post:
      summary: Solicita participação em um Hive.
      description: Permite que o usuário solicite ou confirme participação em um Hive, dependendo da característica de privacidade e limite de participantes.
      tags:
        - Hive
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                hive_id:
                  type: string
                  description: ID do Hive que deseja participar.
              required:
                - hive_id
      responses:
        '200':
          description: Ação realizada com sucesso ou resposta informativa.
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    description: Mensagem de status da operação.
        '400':
          description: Erro de validação do input.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    description: Descrição do erro.
        '404':
          description: Hive não encontrado.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    description: Mensagem de erro.
        '500':
          description: Erro inesperado.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    description: Mensagem do erro.

  /hive/cancelarParticipacaoHive:
    post:
      summary: Cancela participação em um Hive.
      description: Permite ao usuário cancelar sua participação em um Hive, desde que não seja o criador.
      tags:
        - Hive
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                hive_id:
                  type: string
                  description: ID do Hive que se deseja cancelar a participação.
              required:
                - hive_id
      responses:
        '200':
          description: Ação realizada com sucesso ou resposta informativa.
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    description: Mensagem de status da operação.
        '400':
          description: Erro de validação do input.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    description: Descrição do erro.
        '404':
          description: Hive não encontrado.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    description: Mensagem de erro.
        '500':
          description: Erro inesperado.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    description: Mensagem do erro.
      
  /hive/ParticipandoHive:
    get:
      summary: Lista hives participando
      description: Retorna todos os hives em que o usuário autenticado está participando, incluindo todos os detalhes do hive.
      tags:
        - Hive
      responses:
        '200':
          description: Hives encontrados ou mensagem informativa.
          content:
            application/json:
              schema:
                oneOf:
                  - type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          description: ID do hive.
                        data_criacao:
                          type: string
                          format: date-time
                          description: Data de criação do hive.
                        data_hora:
                          type: string
                          format: date-time
                          description: Data e hora do evento.
                        descricao:
                          type: string
                          description: Descrição do hive.
                        endereco:
                          type: string
                          description: Endereço do evento.
                        esporte_nome:
                          type: string
                          description: Nome do esporte.
                        foto:
                          type: string
                          format: uri
                          description: URL da imagem do hive.
                        localizacao:
                          type: string
                          description: Localização do evento.
                        max_participantes:
                          type: integer
                          description: Quantidade máxima de participantes.
                        observacoes:
                          type: string
                          description: Observações do evento.
                        participantes:
                          type: array
                          items:
                            type: string
                          description: Lista de IDs dos participantes.
                        pendentes:
                          type: array
                          items:
                            type: string
                          description: Lista de IDs dos participantes pendentes.
                        privado:
                          type: boolean
                          description: Indica se o hive é privado.
                        status:
                          type: string
                          description: Situação atual do hive (ex Aberto).
                        titulo:
                          type: string
                          description: Título do hive.
                        usuario_id:
                          type: string
                          description: ID do usuário criador do hive.
                  - type: object
                    properties:
                      mensagem:
                        type: string
                        description: Mensagem informativa quando não há hives.
        '404':
          description: Usuário não encontrado.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    description: Mensagem de erro.
        '500':
          description: Erro inesperado.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    description: Mensagem do erro.

  /hive/decidirParticipanteHive:
    post:
      summary: Aprovar ou recusar participante pendente no Hive
      description: Permite ao dono do Hive aceitar ou recusar participação de um usuário pendente.
      tags:
        - Hive
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                hive_id:
                  type: string
                  description: ID do Hive onde será tomada a decisão.
                usuario_id:
                  type: string
                  description: ID do usuário pendente a ser aceito ou recusado.
                acao:
                  type: string
                  description: Ação a ser tomada, "aceitar" ou "recusar".
                  enum: [aceitar, recusar]
              required:
                - hive_id
                - usuario_id
                - acao
      responses:
        '200':
          description: Mensagem informativa da operação realizada.
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    description: Status da aprovação ou recusa, ou aviso.
        '400':
          description: Requisição com dados inválidos.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    description: Mensagem de erro detalhando o problema.
        '500':
          description: Erro inesperado no servidor.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    description: Mensagem do erro.

  /hive/listarPendentesHive:
    post:
      summary: Lista participantes pendentes do Hive
      description: Permite ao dono do Hive obter detalhes dos usuários que solicitaram participação e estão pendentes de aprovação.
      tags:
        - Hive
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                hive_id:
                  type: string
                  description: ID do Hive para listar pendentes.
              required:
                - hive_id
      responses:
        '200':
          description: Lista de participantes pendentes ou mensagem de erro.
          content:
            application/json:
              schema:
                oneOf:
                  - type: object
                    properties:
                      pendentes:
                        type: array
                        items:
                          type: object
                          properties:
                            id:
                              type: string
                              description: ID do usuário pendente.
                            nome_completo:
                              type: string
                              description: Nome completo do usuário.
                            username:
                              type: string
                              description: Nome de usuário.
                            foto_perfil:
                              type: string
                              format: uri
                              description: URL da foto de perfil do usuário.
                  - type: object
                    properties:
                      erro:
                        type: string
                        description: Mensagem de erro ou aviso.
        '400':
          description: Requisição inválida pelo cliente.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    description: Mensagem de erro detalhada.
        '404':
          description: Hive não encontrado.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    description: Mensagem de erro.
        '500':
          description: Erro inesperado no servidor.
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    description: Mensagem do erro.

# Posts 
  /postagem/ListarPostagens:
    get:
      summary: Listar postagens do usuário autenticado
      description: Retorna todas as postagens criadas pelo usuário autenticado via JWT.
      tags:
        - Posts
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista de postagens retornada com sucesso
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: integer
                      example: 1
                    descricao:
                      type: string
                      example: "Minha primeira postagem"
                    imagem_url:
                      type: string
                      example: "https://exemplo.com/imagem1.jpg"
        '401':
          description: Não autorizado - Token JWT ausente ou inválido
        '500':
          description: Erro interno do servidor

  /postagem/FeedSemFiltro:
    get:
      summary: Obter feed público de postagens (sem filtro)
      description: >
        Retorna as postagens públicas mais recentes, ordenadas por data de criação em ordem decrescente.
        Cada item da resposta contém os dados da postagem e as informações básicas do usuário autor. So mostra de quem voce não segue.
      tags:
        - Posts
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista de postagens retornada com sucesso
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    postagem:
                      type: object
                      properties:
                        id:
                          type: string
                          example: "abc123"
                        descricao:
                          type: string
                          example: "Hoje foi um ótimo dia para jogar futebol!"
                        imagem_url:
                          type: string
                          example: "https://exemplo.com/imagem.jpg"
                        data_criacao:
                          type: string
                          format: date-time
                          example: "2025-06-09T14:23:00Z"
                        usuario_id:
                          type: string
                          example: "user456"
                    usuario:
                      type: object
                      properties:
                        id:
                          type: string
                          example: "user456"
                        nome:
                          type: string
                          example: "João Silva"
                        username:
                          type: string
                          example: "joaosilva99"
                        foto_perfil:
                          type: string
                          example: "https://exemplo.com/foto.jpg"
        '401':
          description: Não autorizado - Token JWT ausente ou inválido
        '500':
          description: Erro interno do servidor

  /postagem/FeedSeguindo:
    get:
      summary: Retorna o feed de postagens dos usuários seguidos
      description: |
        Este endpoint retorna as últimas postagens feitas pelos usuários que o usuário logado está seguindo.  
        É necessário estar autenticado e fornecer o token JWT no header `Authorization`.
      tags:
        - Posts
      security:
        - bearerAuth: []
      responses:
        "200":
          description: Lista de postagens dos usuários seguidos
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    postagem:
                      type: object
                      properties:
                        id:
                          type: string
                          example: "abc123"
                        usuario_id:
                          type: string
                          example: "user789"
                        conteudo:
                          type: string
                          example: "Hoje joguei futebol com os amigos!"
                        data_criacao:
                          type: string
                          format: date-time
                          example: "2025-09-16T14:30:00Z"
                    usuario:
                      type: object
                      properties:
                        id:
                          type: string
                          example: "user789"
                        nome:
                          type: string
                          example: "Paulo Eduardo"
                        foto_perfil:
                          type: string
                          example: "https://meusite.com/fotos/perfil.png"
        "401":
          description: Token inválido ou ausente
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Token inválido ou expirado"
        "404":
          description: Usuário não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Usuário não encontrado"
        "500":
          description: Erro interno no servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Erro inesperado"
 
  /postagem/CriarPostagem:
    post:
      summary: Criar uma nova postagem
      description: Endpoint para criar uma nova postagem com descrição e imagem.
      tags:
        - Posts
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                descricao:
                  type: string
                  description: Descrição da postagem
                imagem:
                  type: string
                  format: binary
                  description: Imagem da postagem
              required:
                - descricao
                - imagem
      responses:
        '201':
          description: Postagem criada com sucesso
          content:
            application/json:
              schema:
                type: object
                example:
                  id: 123
                  descricao: "Exemplo de descrição"
                  imagem_url: "https://exemplo.com/imagem.jpg"
        '400':
          description: Requisição inválida
        '401':
          description: Não autorizado - Token JWT ausente ou inválido
        '500':
          description: Erro interno do servidor

  /postagem/EditarPostagem:
    put:
      summary: Editar uma postagem existente
      description: Edita os dados (descrição e/ou imagem) de uma postagem do usuário autenticado.
      tags:
        - Posts
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                post_id:
                  type: string
                  description: ID da postagem a ser editada
                descricao:
                  type: string
                  description: Nova descrição da postagem (opcional)
                imagem:
                  type: string
                  format: binary
                  description: Nova imagem da postagem (opcional)
              required:
                - post_id
      responses:
        '200':
          description: Postagem editada com sucesso
          content:
            application/json:
              schema:
                type: object
                example:
                  id: 1
                  descricao: "Descrição atualizada"
                  imagem_url: "https://exemplo.com/nova-imagem.jpg"
        '400':
          description: Requisição inválida - post_id não fornecido
        '401':
          description: Não autorizado - Token JWT ausente ou inválido
        '404':
          description: Postagem não encontrada
        '500':
          description: Erro interno do servidor   
                       
  /postagem/ExcluirPostagem:
    delete:
      summary: Excluir uma postagem
      description: Exclui uma postagem do usuário autenticado com base no ID fornecido.
      tags:
        - Posts
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                postagem_id:
                  type: integer
                  description: ID da postagem a ser excluída
              required:
                - postagem_id
      responses:
        '200':
          description: Postagem excluída com sucesso
          content:
            application/json:
              schema:
                type: object
                example:
                  mensagem: "Postagem excluída com sucesso."
        '400':
          description: Requisição inválida - ID da postagem não fornecido
        '401':
          description: Não autorizado - Token JWT ausente ou inválido
        '404':
          description: Postagem não encontrada
        '500':
          description: Erro interno do servidor
  
  /postagem/usuario/{usuario_id}:
    get:
      summary: Listar postagens de um usuário
      description: >
        Retorna todas as postagens de um usuário específico, ordenadas da mais recente para a mais antiga.  
        Cada postagem contém informações como ID, conteúdo, data de criação, entre outros.
      tags:
        - Posts
      security:
        - bearerAuth: []
      parameters:
        - in: path
          name: usuario_id
          required: true
          schema:
            type: string
          description: ID único do usuário no banco de dados.
      responses:
        '200':
          description: Lista de postagens retornada com sucesso
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      example: "post_123"
                    usuario_id:
                      type: string
                      example: "user_456"
                    conteudo:
                      type: string
                      example: "Hoje participei de um campeonato incrível!"
                    imagem_url:
                      type: string
                      nullable: true
                      example: "https://meuservidor.com/imagens/post123.jpg"
                    data_criacao:
                      type: string
                      format: date-time
                      example: "2025-09-01T14:30:00Z"
        '500':
          description: Erro interno ao buscar postagens
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: "Erro ao buscar postagens."
                  erro:
                    type: string
                    example: "Erro de conexão com o banco de dados."

  #Curtidas
  /postagem/ToggleCurtida:
    post:
      tags:
        - Curtidas
      summary: Adiciona ou remove uma curtida de uma postagem
      description: Alterna o estado da curtida (adiciona se não curtiu, remove se já curtiu) para a postagem especificada. Requer autenticação por token.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                post_id:
                  type: string
                  example: "1dd38678-7a07-48de-bfe7-f8dc2f2cf002"
              required:
                - post_id
      responses:
        '201':
          description: Postagem curtida com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: "Post curtido com sucesso!"
        '200':
          description: Curtida removida com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: "Removendo curtida."
        '400':
          description: Requisição inválida (campo 'post_id' ausente)
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Campo 'post_id' é obrigatório."
        '404':
          description: Postagem não encontrada
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Postagem não encontrada."
        '500':
          description: Erro interno ao modificar curtida
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Erro ao modificar curtida: Erro inesperado."

  #Comentarios
  /postagem/AdicionarComentario:
    post:
      tags:
        - Comentário
      summary: Adicionar um novo comentário a uma postagem
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                post_id:
                  type: string
                  example: "1dd38678-7a07-48de-bfe7-f8dc2f2cf002"
                comentario:
                  type: string
                  example: "Comentário muito bom!"
              required:
                - post_id
                - comentario
      responses:
        '201':
          description: Comentário adicionado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: "Comentário adicionado com sucesso!"
                  comentario:
                    type: object
                    properties:
                      comentario_id:
                        type: string
                        example: "398454ae-e7ed-4015-8749-06c357724b8e"
                      usuario_id:
                        type: string
                        example: "1dd38678-7a07-48de-bfe7-f8dc2f2cf002"
                      comentario:
                        type: string
                        example: "Comentário muito bom!"
        '400':
          description: Requisição inválida (campos ausentes ou incorretos)
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Campos 'post_id' e 'comentario' são obrigatórios."
        '404':
          description: Postagem não encontrada
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Postagem não encontrada."
        '500':
          description: Erro interno ao adicionar comentário
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Erro ao adicionar comentário: Erro inesperado."

  /postagem/ListarComentarios/{post_id}:
    get:
      tags:
        - Comentário
      summary: Listar todos os comentários de uma postagem
      security:
        - bearerAuth: []
      parameters:
        - name: post_id
          in: path
          required: true
          schema:
            type: string
          description: ID da postagem para listar os comentários
          example: "1dd38678-7a07-48de-bfe7-f8dc2f2cf002"
      responses:
        '200':
          description: Lista de comentários retornada com sucesso
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    comentario_id:
                      type: string
                      example: "398454ae-e7ed-4015-8749-06c357724b8e"
                    usuario_id:
                      type: string
                      example: "1dd38678-7a07-48de-bfe7-f8dc2f2cf002"
                    comentario:
                      type: string
                      example: "Comentário muito bom!"
        '404':
          description: Postagem não encontrada
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Postagem não encontrada."
        '500':
          description: Erro interno ao listar comentários
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Erro ao listar comentários: Erro inesperado."


  /postagem/DeletarComentario:
    post:
      tags:
        - Comentário
      summary: Deletar um comentário específico de uma postagem
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                post_id:
                  type: string
                  example: "1dd38678-7a07-48de-bfe7-f8dc2f2cf002"
                comentario_id:
                  type: string
                  example: "398454ae-e7ed-4015-8749-06c357724b8e"
              required:
                - post_id
                - comentario_id
      responses:
        '200':
          description: Comentário removido com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: "Comentário removido com sucesso."
        '400':
          description: Requisição inválida (dados ausentes)
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Campos 'post_id' e 'comentario' são obrigatórios."
        '403':
          description: Usuário sem permissão para remover o comentário
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Você não tem permissão para excluir este comentário."
        '404':
          description: Postagem ou comentário não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Comentário não encontrado."
        '500':
          description: Erro interno ao deletar comentário
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Erro ao deletar comentário: Erro inesperado."

# Treinos
  /treino/AdicionarTreino:
    post:
      tags:
        - Treino
      summary: Adiciona um novo treino
      description: Endpoint para criar um novo treino com informações como título, descrição, esporte, data, lugar, tempo treinado e uma imagem opcional. É necessário fornecer o token JWT no cabeçalho Authorization.
      security:
      - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                titulo:
                  type: string
                  description: Título do treino
                  example: Corrida Matinal
                descricao:
                  type: string
                  description: Descrição do treino
                  example: Corrida leve no parque
                nome_esporte:
                  type: string
                  description: Nome do esporte relacionado
                  example: Corrida
                data_hora_str:
                  type: string
                  description: Data e hora do treino no formato YYYY-MM-DD HH:MM
                  example: "2025-06-05 07:30"
                lugar:
                  type: string
                  description: Local onde o treino foi realizado
                  example: Parque Ibirapuera
                tempo_treinado:
                  type: number
                  description: Tempo treinado em horas
                  example: 1.5
                arquivo_imagem:
                  type: string
                  format: binary
                  description: Imagem opcional do treino
      responses:
        '200':
          description: Treino criado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    description: ID do treino
                    example: "12345"
                  titulo:
                    type: string
                  descricao:
                    type: string
                  nome_esporte:
                    type: string
                  data_hora:
                    type: string
                    format: date-time
                  lugar:
                    type: string
                  tempo_treinado:
                    type: number
                  imagem_url:
                    type: string
                    description: URL da imagem (se enviada)
        '400':
          description: Erro de validação dos dados
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Todos os campos obrigatórios devem ser preenchidos."

  /treino/ListarTreino:
    get:
      tags:
        - Treino
      summary: Lista treinos do usuário autenticado
      description: Retorna todos os treinos cadastrados para o usuário autenticado. É necessário fornecer o token JWT no cabeçalho Authorization.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista de treinos retornada com sucesso
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: ID do treino
                      example: "12345"
                    titulo:
                      type: string
                      example: Corrida Matinal
                    descricao:
                      type: string
                      example: Corrida leve no parque
                    nome_esporte:
                      type: string
                      example: Corrida
                    data_hora:
                      type: string
                      format: date-time
                      example: "2025-06-05 07:30"
                    lugar:
                      type: string
                      example: Parque Ibirapuera
                    tempo_treinado:
                      type: number
                      example: 1.5
                    imagem_url:
                      type: string
                      description: URL da imagem associada (se houver)
                      example: "https://site.com/imagem123.jpg"
        '401':
          description: Não autorizado — token JWT inválido, expirado ou ausente
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Token inválido ou não fornecido"

  /treino/ExcluirTreino:
    delete:
      tags:
        - Treino
      summary: Exclui um treino do usuário
      description: Exclui um treino específico do usuário autenticado, com base no treino_id fornecido no corpo da requisição. É necessário fornecer o token JWT no cabeçalho Authorization.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                treino_id:
                  type: string
                  description: ID do treino a ser excluído
                  example: "12345"
              required:
                - treino_id
      responses:
        '200':
          description: Treino excluído com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: "Treino excluído com sucesso."
        '400':
          description: Erro na requisição — campo obrigatório ausente
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "O campo 'treino_id' é obrigatório."
        '401':
          description: Não autorizado — token JWT inválido, expirado ou ausente
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Token inválido ou não fornecido"

  /treino/AtualizarTreino:
    put:
      tags:
        - Treino
      summary: Atualiza um treino existente
      description: Atualiza os dados de um treino do usuário autenticado. Todos os campos são opcionais, exceto o treino_id, que é obrigatório. A imagem pode ser atualizada enviando um arquivo.
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                treino_id:
                  type: string
                  description: ID do treino a ser atualizado
                  example: "12345"
                titulo:
                  type: string
                  description: Novo título do treino
                  example: Corrida Noturna
                descricao:
                  type: string
                  description: Nova descrição do treino
                  example: Corrida leve à noite
                nome_esporte:
                  type: string
                  description: Nome do esporte
                  example: Corrida
                data_hora_str:
                  type: string
                  description: Nova data e hora do treino (YYYY-MM-DD HH:MM)
                  example: "2025-06-05 20:00"
                lugar:
                  type: string
                  description: Novo local do treino
                  example: Parque da Cidade
                tempo_treinado:
                  type: number
                  description: Novo tempo treinado em horas
                  example: 1.2
                arquivo_imagem:
                  type: string
                  format: binary
                  description: Nova imagem do treino (opcional)
              required:
                - treino_id
      responses:
        '200':
          description: Treino atualizado com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: "Treino atualizado com sucesso."
                  treino:
                    type: object
                    properties:
                      id:
                        type: string
                        example: "12345"
                      titulo:
                        type: string
                        example: Corrida Noturna
                      descricao:
                        type: string
                        example: Corrida leve à noite
                      nome_esporte:
                        type: string
                        example: Corrida
                      data_hora:
                        type: string
                        format: date-time
                        example: "2025-06-05 20:00"
                      lugar:
                        type: string
                        example: Parque da Cidade
                      tempo_treinado:
                        type: number
                        example: 1.2
                      imagem_url:
                        type: string
                        example: "https://site.com/imagem123.jpg"
        '400':
          description: Erro na requisição — treino_id ausente
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "O campo 'treino_id' é obrigatório."
        '401':
          description: Não autorizado — token JWT inválido, expirado ou ausente
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Token inválido ou não fornecido"


  /treino/FeedTreinosSeguindo:
     get:
      tags:
        - Treino
      summary: Obter feed de treinos dos usuários seguidos
      description: Retorna todos os treinos realizados pelos usuários que o usuário logado segue, ordenados por data e hora decrescente.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista de treinos dos usuários seguidos
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: ID do treino
                    data_hora:
                      type: string
                      format: date-time
                      description: Data e hora do treino
                    descricao:
                      type: string
                      description: Descrição do treino
                    usuario:
                      type: object
                      description: Informações do usuário que criou o treino
                      properties:
                        id:
                          type: string
                          description: ID do usuário
                        nome_completo:
                          type: string
                          description: Nome completo do usuário
                        username:
                          type: string
                          description: Username do usuário
                        pontos:
                          type: integer
                          description: Pontos do usuário
                        foto_perfil:
                          type: string
                          description: URL da foto de perfil do usuário
        '404':
          description: Usuário não encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: Usuário não encontrado.
        '200_no_seguindo':
          description: Usuário não segue ninguém ainda
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: Você não segue ninguém ainda.

# Notificações
  /notificacao/MinhaNotificacoes:
    get:
      summary: Recupera as notificações do usuário logado
      description: Retorna todas as notificações destinadas ao usuário autenticado, ordenadas da mais recente para a mais antiga.
      tags:
        - Notificao
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Lista de notificações recuperadas com sucesso
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    id:
                      type: string
                      description: ID único da notificação
                    usuario_destino_id:
                      type: string
                      description: ID do usuário que receberá a notificação
                    tipo:
                      type: string
                      description: Tipo da notificação (ex "seguindo", "evento")
                    referencia_id:
                      type: string
                      description: ID da referência relacionada à notificação
                    mensagem:
                      type: string
                      description: Mensagem da notificação
                    data_criacao:
                      type: string
                      format: date-time
                      description: Data e hora de criação da notificação
        '401':
          description: Usuário não autenticado
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Autenticação necessária"

  /notificacao/NotificacaoLida:
    put:
      summary: Marca uma notificação como lida
      description: Atualiza o status de uma notificação para "lida" para o usuário autenticado.
      tags:
        - Notificao
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                notificacao_id:
                  type: string
                  description: ID da notificação que será marcada como lida
              required:
                - notificacao_id
            example:
              notificacao_id: "123e4567-e89b-12d3-a456-426614174000"
      responses:
        '200':
          description: Notificação marcada como lida com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: "Notificação marcada como lida com sucesso."
        '400':
          description: Requisição inválida (campo obrigatório ausente)
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "O campo 'notificacao_id' é obrigatório"
        '403':
          description: Usuário não tem permissão para alterar essa notificação
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Você não tem permissão para alterar essa notificação."
        '404':
          description: Notificação não encontrada
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Notificação não encontrada."
        '500':
          description: Erro interno do servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Erro ao marcar notificação como lida: mensagem de erro"  

  /notificacao/DeletarNotificacao:  
     delete:
      summary: Deleta uma notificação
      description: Remove uma notificação específica do usuário autenticado.
      tags:
        - Notificao
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                notificacao_id:
                  type: string
                  description: ID da notificação que será deletada
              required:
                - notificacao_id
            example:
              notificacao_id: "123e4567-e89b-12d3-a456-426614174000"
      responses:
        '200':
          description: Notificação deletada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensagem:
                    type: string
                    example: "Notificação deletada com sucesso."
        '403':
          description: Usuário não tem permissão para deletar a notificação
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Você não tem permissão para deletar esta notificação."
        '404':
          description: Notificação não encontrada
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Notificação não encontrada."
        '500':
          description: Erro interno do servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  erro:
                    type: string
                    example: "Erro ao processar requisição: mensagem de erro"
                                

